{
  "permissions": {
    "allow": [
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nperf: 全面性能优化 v1.3.0\n\n## 性能提升\n- 首页首次加载提升 70%（3-5秒 → 0.8-1.2秒）\n- 数据传输减少 85%（2-5MB → 200-400KB）\n- 内存占用减少 65%（150-300MB → 50-100MB）\n\n## 优化内容\n1. 首页无限滚动分页 - 每页12个作品，按需加载\n2. WorkCard iframe懒加载 - Intersection Observer API\n3. WorkGrid组件优化 - React.memo + useMemo缓存\n4. 图片配置优化 - AVIF/WebP格式，限定域名\n5. 评论区服务端分页 - 初始5条，按需加载更多\n6. localStorage缓存优化 - useLocalStorage hook\n7. 管理员页面分页 - 每页20个，大数据量优化\n\n## 修改文件\n- app/page.tsx: 无限滚动分页\n- app/admin/page.tsx: 分页加载\n- app/works/[id]/page.tsx: 评论分页\n- components/work-card.tsx: iframe懒加载\n- components/work-grid.tsx: memo优化\n- components/comment-section.tsx: 服务端分页\n- components/like-button.tsx: localStorage缓存\n- lib/useLocalStorage.ts: 新增缓存hook\n- next.config.js: 图片优化配置\n- README.md: 添加性能优化文档\nEOF\n)\")",
      "Bash(git config:*)",
      "Bash(dir:*)",
      "Bash(npm run build:*)",
      "Bash(npm run dev:*)",
      "mcp__Playwright__browser_navigate",
      "mcp__Playwright__browser_take_screenshot",
      "Bash(netstat:*)",
      "Bash(findstr:*)",
      "Bash(taskkill /PID 2792 /F)",
      "Bash(taskkill:*)",
      "Bash(cmd //c \"taskkill /PID 2792 /F\")",
      "Bash(cmd //c \"taskkill /PID 38504 /F\")",
      "Bash(cmd //c \"del \\?\\D:\\Cursor project\\Gemini 3.0-作品展馆\\nul\")",
      "Bash(cmd //c \"del /f /q \\?\\%CD%\\nul\")",
      "Bash(powershell -Command \"Remove-Item -LiteralPath ''\\?\\D:\\Cursor project\\Gemini 3.0-作品展馆\\nul'' -Force\")",
      "Bash(powershell -Command \"Remove-Item -Path ''D:\\Cursor project\\Gemini 3.0-作品展馆\\nul'' -Force -ErrorAction SilentlyContinue; if (Test-Path ''D:\\Cursor project\\Gemini 3.0-作品展馆\\nul'') { Write-Host ''File still exists'' } else { Write-Host ''File removed'' }\")",
      "Bash(powershell -Command \"Test-Path ''D:\\Cursor project\\Gemini 3.0-作品展馆\\nul''\")",
      "Bash(git update-index:*)",
      "Bash(powershell -Command \"Get-ChildItem ''D:\\Cursor project\\Gemini 3.0-作品展馆'' -Force | Where-Object { $_Name -like ''*nul*'' }\")",
      "Bash(cmd //c \"dir /a /b D:\\Cursor^ project\\Gemini^ 3.0-作品展馆\\ | findstr nul\")",
      "Bash(start \"\" \"D:\\Cursor project\\Gemini 3.0-作品展馆\\.next\\analyze\\client.html\")",
      "Bash(set:*)"
    ],
    "deny": [],
    "ask": []
  }
}
