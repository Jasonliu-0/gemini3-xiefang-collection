# ============================================
# 🌸 Gemini 3.0 撷芳集 - 环境变量配置模板
# ============================================
# 
# 使用说明：
# 1. 复制此文件为 .env.local
# 2. 填入你的实际配置信息
# 3. 切勿将 .env.local 提交到 Git
#
# ============================================

# ============================================
# 📊 Supabase 数据库配置（必需）
# ============================================
# 
# 获取步骤：
# 1. 访问 https://supabase.com 并登录
# 2. 创建新项目或选择现有项目
# 3. 进入 Project Settings → API
# 4. 复制 "Project URL" 和 "anon public" key
# 5. 在 SQL Editor 中运行 supabase-setup.sql 初始化数据库
#
# ⚠️ 重要：请禁用所有表的 RLS 以简化开发
# ALTER TABLE works DISABLE ROW LEVEL SECURITY;
# ALTER TABLE comments DISABLE ROW LEVEL SECURITY;
# ALTER TABLE likes DISABLE ROW LEVEL SECURITY;
# ALTER TABLE favorites DISABLE ROW LEVEL SECURITY;
#

NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-public-key-here

# ============================================
# 🔐 Linux DO OAuth2 登录（可选）
# ============================================
#
# 获取步骤：
# 1. 访问 https://connect.linux.do
# 2. 点击"我的应用" → "创建应用"
# 3. 填写应用信息：
#    - 应用名称：Gemini 3.0 撷芳集
#    - 应用主页：http://localhost:3000 (或你的域名)
#    - 应用描述：AI 作品展示平台
#    - 回调地址：http://localhost:3000/api/auth/callback
# 4. 获取 Client ID 和 Client Secret
#
# 注意：如果无法访问 .do 域名，可以配置备用端点（见下方）
#

NEXT_PUBLIC_LINUX_DO_CLIENT_ID=your-linux-do-client-id
LINUX_DO_CLIENT_SECRET=your-linux-do-client-secret
NEXT_PUBLIC_REDIRECT_URI=http://localhost:3000/api/auth/callback

# 备用端点配置（可选，如果无法访问 .do 域名）
# NEXT_PUBLIC_LINUX_DO_BASE_URL=https://connect.linuxdo.org

# ============================================
# 🐙 GitHub OAuth2 登录（可选，推荐）
# ============================================
#
# 获取步骤：
# 1. 访问 https://github.com/settings/developers
# 2. 点击 "New OAuth App"
# 3. 填写应用信息：
#    - Application name: Gemini 3.0 撷芳集
#    - Homepage URL: http://localhost:3000 (或你的域名)
#    - Application description: AI 作品展示平台
#    - Authorization callback URL: http://localhost:3000/api/auth/github-callback
# 4. 点击 "Register application"
# 5. 复制 Client ID
# 6. 点击 "Generate a new client secret" 并复制
#
# 💡 提示：GitHub OAuth 网络连接更稳定，推荐优先使用
#

NEXT_PUBLIC_GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
NEXT_PUBLIC_GITHUB_REDIRECT_URI=http://localhost:3000/api/auth/github-callback

# ============================================
# 🚀 生产环境配置（部署时使用）
# ============================================
#
# 部署到 Netlify/Vercel 时，需要：
# 1. 在部署平台的环境变量设置中配置以上所有变量
# 2. 将所有 localhost:3000 改为你的实际域名
# 3. 在 OAuth 应用设置中添加生产环境回调地址
#
# 生产环境回调地址示例：
# NEXT_PUBLIC_REDIRECT_URI=https://your-domain.com/api/auth/callback
# NEXT_PUBLIC_GITHUB_REDIRECT_URI=https://your-domain.com/api/auth/github-callback
#
# 同时支持多个回调地址（在 OAuth 应用中添加）：
# - http://localhost:3000/api/auth/callback (开发)
# - https://your-domain.com/api/auth/callback (生产)
#

# ============================================
# 🛡️ 管理员权限配置（可选，推荐）
# ============================================
#
# 方式一：通过环境变量配置（推荐，更安全）
# 多个管理员用英文逗号分隔，支持 GitHub 和 Linux.do 用户名
#
# 示例：
# NEXT_PUBLIC_ADMIN_USERS=github-username1,linuxdo-username2,username3
#

NEXT_PUBLIC_ADMIN_USERS=your-github-username,your-linuxdo-username

#
# 方式二：在代码中配置（备用方案）
# 如果不使用环境变量，可以直接修改 lib/admin.ts 文件
# 在 CODE_ADMIN_USERS 数组中添加用户名
#
# 💡 提示：
# - 管理员可以访问 /admin 后台管理页面
# - 可以编辑和删除所有作品
# - 可以查看详细的数据统计
# - 环境变量方式更安全，不会暴露在代码库中
#
# 🔒 安全建议：
# - 优先使用环境变量配置（NEXT_PUBLIC_ADMIN_USERS）
# - 生产环境在 Netlify/Vercel 环境变量中配置
# - 不要在公开仓库中提交真实的用户名
#

# ============================================
# ⚠️ 安全提示
# ============================================
#
# 1. ❌ 切勿将 .env.local 文件提交到 Git
# 2. ❌ 切勿在代码中硬编码密钥
# 3. ❌ 切勿在公开场合分享你的密钥
# 4. ✅ 定期轮换 OAuth 密钥
# 5. ✅ 生产环境使用不同的密钥
# 6. ✅ 检查 .gitignore 是否包含 .env*
# 7. ✅ 在 lib/admin.ts 中配置管理员用户名
#
# ============================================

